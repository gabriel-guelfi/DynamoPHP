SPLIT PHP Framework - Release Notes
---

- Version: 1.2.10
- Release Date: 2022-05-11
- Last Update: 2022-06-03
- License: MIT
- Authors: 
    * Gabriel Valentoni Guelfi (https://github.com/gabriel-guelfi)

---

This release 1.2.10 has improvements in security, error handling and a major improvement on data access and general flexibility, besides some bug fixes.

Now it became more conceptual than ever, so I decided to change its name and image, from "DynamoPHP" to "SPLIT PHP", to better represent the 
fundamentals of the tool. (See more about it in the README.md file and visit its official website at http://splitphp.org)

---

**New Features:**

- Response headers's management with the methods Response::setHeader() and Response::getHeaders().

- Removed too much specific functionalities from the Utils helper class and moved them to a Service Pack.

- Automatic database connection closing assurance.

- Added an additional field $info on System::errorLog() method, for custom information.

- Database errors are now being handled with a specific Exception object and now provides the SQL command, which caused the error, on the log.

- The application level errors logging now can be turned on/off in the configurations.

- Now it is possible to set a custom templates root dir, using the method Service::setTemplateRoot(). The starting point continues to be the 
/application/templates/ folder, but now, within a RestService, you can set as root a path inside this folder, so you won't have to specify the entire 
path when rendering templates.

- All requests are now, by default, checked for an anti-xsrf token, which protects the system against XSRF-type hack attacks. You can turn this behavior
on/off using the method RestService::setAntiXsrfValidation(), passing true or false. The RestService::xsrfToken() method, returns the auto-generated 
token for the current request.

- Now it is possible to execute multiple Dao nested calls at once. The system resolves the concurrent executions by itself, without creating new Dao instances.

- Added new Dao::first() and Dao::fetch() wrapper methods, which execute Dao::find() with extra functionalities.

- Database access is now divided by 2 concurrent connections: one is for read-only purposes, and the other is a general, used to perform all database operations.
The system handles the parallel connections by itself, so it's transparent.

- Added a Dao::bindParams() method which is, in my opinion, the most awesome feature of the release. It resolves the passed params and parameterizes automagically 
the SQL commands, filtering, sorting and paginating. It allows the developer to write really small services, with a really robust and abstract functionality.

- Services now possess a Service::init() method, which executes automatically the moment the Service is called for the first time. Its purpose is to have an interface
for initializations without having to declare a constructor. It is much similar to the init() method from the old Zend Framework. This method are also extended to RestServices.

- Added a ready-to-use Response object at RestService::response property. You don't have to instantiate it with "new Response()" in every endpoint anymore. 

- The RestService::addEndpoint() method now allows closure functions to be passed, in its third argument, to be the endpoint handler function. An interface 
much similar to what Node's ExpressJS framework provides.

- Removed all dependencies from the framework, which now depends only on PHP 7+ to run.

- Restructured the entire framework in namespaces. It improves the organization of the engine and allows the developer to write services and rest services 
with the same class names without conflict.

- It was removed, from the configurations, the DEFAULT_RESTSERVICE option and the DEFAULT_ROUTE now expects to receive the full route.

- Configurations now are based on environment variables. The config.ini file still exists, but it is not required anymore, functioning exactly as the 
.env file does in other frameworks. So, if you set all the config.ini file's options in environment variables, you can get rid of the file. 

- Added a DEFAULT_TIMEZONE config option.

- Improved CORS Policy to meet the compliance.


---

**Fixes:**

- The handling of the returning status code for executions which had thrown exceptions, were a little bit confuse and unpredictable. Fixed the problem 
and now it always returns with status 500 when an Internal Server Error occurs.

- Added a default logical operator "and" to the database operations parameterized by Dao::bindParams(). Without it, it was failing with no errors but affecting 
zero rows.

- Fixed a problem with the parsing of requests with query strings that had encoded chars. It was parsing these query strings parameters wrongly.

- Fixed a problem with requesting with empty JSON payloads when using POST or PUT.

- Fixed liability with constant URL_APPLICATION.

- Fixed issues with error reporting.

- Replace linebreak method for PHP_EOL constant.

- Fixed "null" issue with some outputs sanitized by htmlspecialchars().

---

Well, I think there are changes and features here to even release a major version, but as I choose to change its name, I decided to maintain it in version 1.

It is now much more robust, conceptual, precise and flexible. Have fun!